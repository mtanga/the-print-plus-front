<div class="album bgray">

    <div class="container">
        <!-- product -->
        <div class="breadcumbs" style="margin-top:-20px;padding-bottom: 50px;">
          <a style="color:#4CB0E9!important;"  href="javascript:history.back()" class="bread-text hand">Retour</a>
        </div>

        <div class="product-content product-wrap clearfix product-deatil">
            <div class="row">
                <div class="col-md-8 col-sm-12 col-xs-12">
                    <div class="bg-white" style="width: 80%;">
                        <div class="product-image">
                            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-inner">
                                  <div class="carousel-item active">
                                    <img src="https://admin.theprintplus-cm.com{{infos.file_path || '/storage/uploads/default.png'}}"  class="img-responsive d-block w-100" alt="...">
                                  </div>
                                  <div  class="carousel-item" *ngFor="let imageItem of infos.images_photos;">
                                    <img src="https://admin.theprintplus-cm.com{{imageItem.image}}" class="img-responsive d-block w-100" alt="...">
                                  </div>
                                </div>
                                <button *ngIf="infos.images_photos?.length>0" class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                  <span class="visually-hidden">Previous</span>
                                </button>
                                <button *ngIf="infos.images_photos?.length>0" class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                  <span class="visually-hidden">Next</span>
                                </button>
                              </div>
                        </div>
                    </div>

                </div>

                <div class="col-md-4 col-md-offset-1 col-sm-12 col-xs-12">
                    <h1 class="name">
                        {{infos.name || ""}}
                    </h1>
                    <p class="desc" innerHTML = "{{ infos.description }}">
                        
                    </p>


                    <div class="row py-2" *ngIf="infos.formats?.length > 0">
                        <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                            <h3  class="t-3">Formats disponibles({{infos.formats[0].unit || "" }})   </h3>
                            <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                              <form >
                                  <select class="selectionf" [(ngModel)]="checker" name="checker" id="format" (change)="onChange($event.target.value)">
                                      <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un format</option>
                                      <option *ngFor="let format of infos.formats;" value="{{format.id}}" >{{format.name}} -- {{format.price}}F CFA</option>
                                    </select>
                              </form>
                          </div>
                              
                        </div>



                        <div *ngIf="infos?.attributs.length>1" class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" >
                          <form >
                            <h3  *ngIf="infos?.attributs[0].type=='couleur'" class="t-3">Couleurs du cadre :  </h3>
                            <h3  *ngIf="infos?.attributs[0].type=='orientation'" class="t-3">Orientation :  </h3>
                              <select class="selectionf" [(ngModel)]="attribut" name="attribut" id="attribut" (change)="onChange($event.target.value)">
                                  <option *ngIf="infos.attributs[0].type=='couleur'" class="dropdown-item" disabled selected value="undefined">Sélectioner une couleur</option>
                                  <option *ngIf="infos.attributs[0].type=='orientation'" class="dropdown-item" disabled selected value="undefined">Sélectioner une orientation</option>
                                  <option *ngFor="let attr of infos.attributs;" value="{{attr.name}}" >{{attr.name}}</option>
                                </select>
                          </form>
                      </div>
                    </div>

                    


                    <!-- Déco murale 1 -->

                    <div class="row py-2" *ngIf="this.infos.have_types == 0">


                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <h3  class="t-3">Formats disponibles</h3>
                          <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                            <form >
                                <select class="selectionf" [(ngModel)]="forme" name="forme" id="format" (change)="onFormat($event.target.value)">
                                    <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un format</option>
                                    <option *ngFor="let format of tailles;" value="{{format.id}}" >{{format.valeur}} </option>
                                  </select>
                            </form>
                          </div>
                      </div>

                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" *ngIf="havetaille">
                        <h3  class="t-3">Tailles disponibles</h3>
                        <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <form >
                              <select class="selectionf" [(ngModel)]="checker" name="checker" id="checker" (change)="onChange($event.target.value)">
                                  <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un format</option>
                                  <option *ngFor="let formatItem of taille;" value="{{formatItem.id}}" >{{formatItem.name}} -- {{formatItem.price}} F CFA</option>
                                </select>
                          </form>
                        </div>
                      </div>


                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" *ngIf="haveimages">
                        <h3  class="t-3">Nombre d'images</h3>
                        <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <form >
                              <select class="selectionf" [(ngModel)]="selectimages" name="selectimages" id="selectimages" (change)="onImage($event.target.value)">
                                  <option class="dropdown-item" disabled selected value="undefined">Sélectionnez votre nombre d'images</option>
                                  <option class="dropdown-item" value="2">02 images</option>
                                  <option class="dropdown-item" value="4" >04 images</option>
                                  <option class="dropdown-item" value="9">09 images</option>
                                  <option class="dropdown-item" value="16">16 images</option>
                                </select>
                          </form>
                        </div>
                      </div>


                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" *ngIf="haveColoris">
                        <h3  class="t-3">Coloris disponibles</h3>
                        <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <form >
                              <select class="selectionf" [(ngModel)]="selectcoloris" name="selectcoloris" id="selectcoloris" (change)="onColoris($event.target.value)">
                                  <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un coloris</option>
                                  <option class="dropdown-item" value="noir">Noir</option>
                                  <option class="dropdown-item" value="blanc" >Blanc</option>
                                  <option class="dropdown-item" value="gris_argente">Gris argenté</option>
                                  <option class="dropdown-item" value="pin">Pin</option>
                                  <option class="dropdown-item" value="or">Or</option>
                                </select>
                          </form>
                        </div>
                      </div>
                      
                  </div>

                    <!-- MUltiple produit -->
                    <div class="row py-2" *ngIf="this.infos.have_types == 1">


                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <h3  class="t-3">Cadres disponibles</h3>
                          <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                            <form >
                                <select class="selectionf" [(ngModel)]="formatname" name="formatname" id="formatname" (change)="onTypeHit($event.target.value)">
                                    <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un cadre</option>
                                    <option *ngFor="let typeItem of types;" value="{{typeItem.id}}" >{{typeItem.value}} </option>
                                  </select>
                            </form>
                          </div>
                      </div>

                      
                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" *ngIf="getformatss">
                        <h3  class="t-3">Formats disponibles</h3>
                        <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <form >
                              <select class="selectionf" [(ngModel)]="forme" name="forme" id="forme" (change)="onFormat($event.target.value)">
                                  <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un format</option>
                                  <option *ngFor="let formatItem of tailles;" value="{{formatItem.id}}" >{{formatItem.valeur}}</option>
                                </select>
                          </form>
                        </div>
                      </div>


                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" *ngIf="havetaille">
                        <h3  class="t-3">Tailles disponibles</h3>
                        <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                          <form >
                              <select class="selectionf" [(ngModel)]="checker" name="checker" id="checker" (change)="onChange($event.target.value)">
                                  <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un format</option>
                                  <option *ngFor="let formatItem of taille;" value="{{formatItem.id}}" >{{formatItem.name}} -- {{formatItem.price}} F CFA</option>
                                </select>
                          </form>
                        </div>
                    </div>



                    <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" *ngIf="haveColoris">
                      <h3  class="t-3">Coloris disponibles</h3>
                      <div class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12">
                        <form >
                            <select class="selectionf" [(ngModel)]="selectcoloris" name="selectcoloris" id="selectcoloris" (change)="onColoris($event.target.value)">
                                <option class="dropdown-item" disabled selected value="undefined">Sélectionnez un coloris</option>
                                <option class="dropdown-item" value="noir">Noir</option>
                                <option class="dropdown-item" value="blanc" >Blanc</option>
                                <option class="dropdown-item" value="gris_argente">Gris argenté</option>
                                <option class="dropdown-item" value="pin">Pin</option>
                                <option class="dropdown-item" value="or">Or</option>
                              </select>
                        </form>
                      </div>
                    </div>

                  </div>











                  <div class="row py-2" >
                      <div *ngIf="infos?.attributs?.length>1" class="col-md-12 col-md-offset-1 col-sm-12 col-xs-12 pt-3" >
                        <form *ngIf="infos?.attributs[0].type=='couleur'">
                          <h3  *ngIf="infos?.attributs[0].type=='couleur'" class="t-3">Couleurs du cadre :  </h3>
                            <select class="selectionf" [(ngModel)]="attribut" name="attribut" id="attribut" (change)="onChange($event.target.value)">
                                <option *ngIf="infos.attributs[0].type=='couleur'" class="dropdown-item" disabled selected value="undefined">Sélectioner une couleur</option>
                                <option *ngIf="infos.attributs[0].type=='orientation'" class="dropdown-item" disabled selected value="undefined">Sélectioner une orientation</option>
                                <option *ngFor="let attr of infos.attributs;" value="{{attr.name}}" >{{attr.name}}</option>
                              </select>
                        </form>
                    </div>
                  </div>

  <!--                   <div class="row py-2">
                        <div class="col-md-6 col-md-offset-1 col-sm-6 col-xs-6">
                            <h3 class="t-3">Quantité : </h3>
                        </div>
                      <div class="col-md-5 col-md-offset-1 col-sm-5 col-xs-5">
                            <form>
                                <div class="input-group mb-3">
                                    <span (click)="decrement()" class="hand input-group-text">-</span>
                                    <input type="text" [(ngModel)]="quantity" name="quantity" class="form-control" [value]="quantity" >
                                    <span (click)="increment()" class="hand input-group-text">+</span>
                                </div>
                            </form>
                        </div> 
                       <div class="col-md-3 col-md-offset-1 col-sm-3 col-xs-3">
                            
                        </div> 
                    </div> -->



                 

                    <div class="row py-33" >
                        <span *ngIf="promoItem?.type=='percent'" style="color:#D496A7">
                          - {{promoItem.value}} % de réduction <span style="color: red;" *ngIf="infos?.promotions?.length>0 && promoExisted==false">(Promotion expirée le {{formatDate(promoItem.fin)}})</span>
                        </span>
                        <span *ngIf="promoItem?.type=='numeric'" style="color:#D496A7">
                          - {{promoItem.value}} FCFA de réduction <span style="color: red;" *ngIf="infos?.promotions?.length>0 && promoExisted==false">(Promotion expirée le {{formatDate(promoItem.fin)}})</span>
                        </span>

                        <div *ngIf="infos?.promotions?.length==0"class="col-md-4 col-md-offset-1 col-sm-4 col-xs-4 rounded-1">
                           <span class="pricer">{{priceVrai || real_price}} FCFA</span>
                        </div>


                        <div *ngIf="infos?.promotions?.length>0" class="col-md-4 col-md-offset-1 col-sm-4 col-xs-4 rounded-1">
                          <span class="pricer">{{promoPrice}} FCFA</span>
                       </div>

                        <div *ngIf="infos?.promotions?.length>0" class="col-md-4 col-md-offset-1 col-sm-4 col-xs-4 rounded-2">
                            <span class="pricep">{{priceVrai || real_price}} FCFA </span>
                        </div>
                    </div>

            <!--         <div class="mb-3">
                      <label for="exampleFormControlTextarea1" class="form-label">Notes (Spécifiez la couleur, l'orientation ou autre)</label>
                      <textarea [(ngModel)]="note"  name="note" class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea>
                    </div> -->





                    <div class="row" style="padding-left: .3rem;">
                        <div class="col-sm-8 col-md-8 col-lg-8">
                            <span  (click)="productGo(infos.id)"  class="hand btn btn-pay btn-lg">Je commande maintenant</span>
                        </div>
                    </div>
                </div>

                </div>
            </div>
        </div>
        <!-- end product -->
    </div>

